@tailwind base;
@tailwind components;
@tailwind utilities;

/* 主题色：使用 RGB 通道以便 Tailwind 透明度修饰符生效 */
:root,
[data-theme="relaxed"],
[data-theme="focus"] {
  /* 默认 / 轻松 / 专注：当前 AWS 风格 */
  --ui-navy: 35 47 62;
  --ui-orange: 255 153 0;
  --ui-blue-deep: 20 110 180;
  --ui-blue-soft: 30 136 229;
  --ui-blue-light: 232 244 252;
  --ui-slate-soft: 247 249 252;
  --ui-white: 255 255 255;
  --radius: 1rem;
}
[data-theme="focus"] {
  --ui-navy: 30 58 95;
  --ui-blue-deep: 13 90 158;
  --ui-slate-soft: 238 242 247;
  --ui-blue-light: 224 234 245;
}
[data-theme="focus"] body {
  background-color: rgb(238 242 247);
}

/* 莫兰迪色系：低饱和度、柔和，缓解视觉疲劳 */
[data-theme="morandi"] {
  --ui-navy: 92 86 81;
  --ui-orange: 184 149 107;
  --ui-blue-deep: 125 139 153;
  --ui-blue-soft: 156 168 180;
  --ui-blue-light: 232 230 227;
  --ui-slate-soft: 242 239 234;
  --ui-white: 250 248 245;
}
[data-theme="morandi"] body {
  background-color: rgb(242 239 234);
}
[data-theme="morandi"] .bg-white {
  background-color: rgb(var(--ui-white));
}

* {
  box-sizing: border-box;
}

html {
  -webkit-tap-highlight-color: transparent;
}

body {
  background-color: rgb(var(--ui-slate-soft));
  color: rgb(var(--ui-navy));
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  padding-bottom: env(safe-area-inset-bottom, 0);
}

/* 底部导航留白，避免被遮挡 */
.pb-nav {
  padding-bottom: calc(4rem + env(safe-area-inset-bottom, 0px));
}

/* 桌面端左侧栏留白 */
@media (min-width: 1024px) {
  .pb-nav {
    padding-bottom: 1.5rem;
  }
}

/* 抽屉滑出动画 */
.drawer-enter {
  animation: drawer-in 0.3s ease-out;
}

@keyframes drawer-in {
  from {
    transform: translateY(100%);
    opacity: 0.9;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

/* 选项错误时的摇晃动画（供 QuestionCard 使用） */
@keyframes shake {
  0%, 100% { transform: translateX(0); }
  10%, 30%, 50%, 70%, 90% { transform: translateX(-4px); }
  20%, 40%, 60%, 80% { transform: translateX(4px); }
}
.animate-shake {
  animation: shake 0.5s ease-in-out;
}
